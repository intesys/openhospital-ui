"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const path_1 = __importDefault(require("path"));
const commander_1 = __importDefault(require("commander"));
const config_1 = require("./config");
const lodash_1 = require("lodash");
const version = require(path_1.default.join(__dirname, '../package.json')).version;
commander_1.default
    .version(version, '-v, --version')
    .allowUnknownOption()
    .option('-a,--API_YML [value]', 'api yml file')
    .option('-m,--MOCKS_PATH [value]', 'mocks path')
    .option('-l,--LOG', 'enable console log')
    .option('-s,--SKIP_VALIDATION', 'turn off validation')
    .option('-w,--WATCH', 'restart the server on changes')
    .option('--API_PREFIX [value]')
    .option('--API_PORT [value]')
    .option('--API_PROTOCOL [value]')
    .option('--API_HOSTNAME [value]')
    .option('--RESOURCES_PREFIX [value]')
    .option('--PROXY_PROTOCOL [value]')
    .option('--PROXY_HOSTNAME [value]')
    .option('--PROXY_PORT [value]')
    .option('--PROXY_PREFIX [value]')
    .option('--PROXY_RESOURCES_PREFIX [value]')
    .parse(process.argv);
const cliOptions = lodash_1.pick(commander_1.default, config_1.options);
// overwrite env variables
Object.keys(cliOptions).forEach(key => process.env[key] = cliOptions[key]);
require('./app').default();
//# sourceMappingURL=cli.js.map